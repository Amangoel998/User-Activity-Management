(this["webpackJsonpuser-activity"]=this["webpackJsonpuser-activity"]||[]).push([[0],{108:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(16),i=a.n(l),c=(a(77),a(8)),o=a(111),u=a(112),s=a(113),m=a(117),d=a(115),h=a(119),E=a(59),f=a.n(E),v=a(118),g=a(24);var y=function(e){var t=e.start,a=e.end,l=Object(n.useState)([]),i=Object(c.a)(l,2),o=i[0],u=i[1];return Object(n.useEffect)((function(){fetch("/graph_data.json").then((function(e){return e.json()})).then((function(e){return u(e)}))}),[u]),r.a.createElement(g.d,{xType:"ordinal",width:700,height:300,yDomain:[0,60]},r.a.createElement(g.c,null),r.a.createElement(g.e,null),r.a.createElement(g.b,{data:o}),r.a.createElement(g.a,{data:o.map((function(e){return t.getHours()===e.x?e.y=t.getMinutes():a.getHours()===e.x?e.y=a.getMinutes():t.getHours()<e.x&&a.getHours()>e.x&&(e.y=300),console.log(e.x,e.y,t.getHours(),t.getMinutes()),e})),labelAnchorX:"middle",labelAnchorY:"text-after-edge"}))};a(107);var b=function(e){var t=Object(n.useState)({value:(new Date).toISOString(),activity:null}),a=Object(c.a)(t,2),l=a[0],i=a[1],m=function(t){var a=t[0]+" "+t[1]+" "+t[2]+" ",n=t[3].substr(0,t[3].length-2),r=n.split(":"),l=Number(r[0]);return"PM"===t[3].substring(t[3].length-2)&&(l+=12),a+=n=String(l)+":"+r[1],function(e,t){var a=new Date(t),n=new Date(a.toLocaleString("en-US",{timeZone:"UTC"})),r=new Date(a.toLocaleString("en-US",{timeZone:e}));n.getTime(),r.getTime();return a.setTime(a.getTime()),a}(e.data.tz,a)},d=e.data.activity_periods.map((function(e){return{start:m(e.start_time.split(" ").filter((function(e){return e.length>0}))),end:m(e.end_time.split(" ").filter((function(e){return e.length>0})))}}));return r.a.createElement(o.a,null,r.a.createElement(u.a,{xs:3},r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(v.a,null,r.a.createElement("span",null,"Select Date of Activity",r.a.createElement(f.a,{onDayClick:function(e){i({value:e.toISOString(),activity:d.filter((function(t){return t.start.getYear()===e.getYear()&&t.start.getMonth()===e.getMonth()&&t.start.getDate()===e.getDate()}))})}}))))),r.a.createElement(s.a,{xs:8,md:4},l.activity&&l.activity.length>0?r.a.createElement("div",null,r.a.createElement(y,{start:l.activity[0].start,end:l.activity[0].end}),r.a.createElement("p",{className:"float-right"},"Hours")):"No Activity Found",r.a.createElement("table",null,r.a.createElement("tbody",null)))))};a(58);var w=function(e){var t=e.activity,a=Object(n.useState)(e.show),l=Object(c.a)(a,2),i=l[0],o=l[1];return r.a.createElement(d.a,{show:i,size:"xl",onHide:e.onHide,"aria-labelledby":"contained-modal-title-vcenter",dialogClassName:"modal-90w",centered:!0},r.a.createElement(d.a.Header,{closeButton:!0},r.a.createElement(d.a.Title,null,"Activity of User:"," "+t.real_name)),r.a.createElement(d.a.Body,null,r.a.createElement(b,{data:t})),r.a.createElement(d.a.Footer,null,r.a.createElement("h2",{className:"float-left"},t.tz),r.a.createElement(h.a,{onClick:function(){return o(!i),e.close({hide:!0,data:null})}},"OK")))},p=a(116),j=a(114);var O=function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),l=a[0],i=a[1],o=e.user;return r.a.createElement("div",null,r.a.createElement("span",{className:"m-2"},o.real_name),r.a.createElement(h.a,{className:"float-right",variant:"primary",onClick:function(){return i(!l)},"aria-expanded":l},"Details"),r.a.createElement(j.a,{in:l},r.a.createElement("div",{className:"mt-3 ml-5"},r.a.createElement("span",null,"User Id: ",o.id,r.a.createElement("p",null),"Timezone: ",o.tz),r.a.createElement(h.a,{className:"float-right",variant:"success",onClick:function(){return e.showActivity({hide:!e.hide,data:o})}},"View Activity"))))};var S=function(e){var t=Object(n.useState)({done:!1,members:[]}),a=Object(c.a)(t,2),l=a[0],i=a[1];return Object(n.useEffect)((function(){i({done:!1}),fetch("/db.json").then((function(e){return e.json()})).then((function(e){return i({members:e.members,done:!0})}))}),[i]),r.a.createElement("div",null,r.a.createElement(p.a,null,l.done?l.members.map((function(t){return r.a.createElement(p.a.Item,{key:t.id},r.a.createElement(O,{hide:e.hide,showActivity:e.show,user:t}))})):"Loading"))};var x=function(){var e=Object(n.useState)({hide:!0,data:null}),t=Object(c.a)(e,2),a=t[0],l=t[1];return r.a.createElement("div",null,a.hide?null:r.a.createElement(w,{show:!a.hide,close:l,activity:a.data,onHide:function(){return l({hide:!0,data:null})}}),r.a.createElement(o.a,null,r.a.createElement(u.a,null,r.a.createElement(s.a,null,r.a.createElement(m.a,{style:{width:"100%"},className:"mt-5 mb-5"},r.a.createElement(m.a.Body,null,r.a.createElement(m.a.Title,null,r.a.createElement("h1",null,"Welcome to User Activity System")),r.a.createElement(m.a.Text,null,"A user interface that allows a user to view a list of users from a mock API server. On clicking on any user, a modal should open which displays all the time ranges during which they were active on that day, with an option to view all the periods of activity for different days using a calendar."))))),r.a.createElement(u.a,null,r.a.createElement(s.a,null,r.a.createElement(S,{hide:a.hide,show:l})))))};var A=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},72:function(e,t,a){e.exports=a(108)},77:function(e,t,a){}},[[72,1,2]]]);
//# sourceMappingURL=main.471bfac6.chunk.js.map